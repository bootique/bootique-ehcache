# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-jcache

# travis encrypt -r bootique/bootique-jcache "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-jcache "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "MAr9jPs+JhXhYlVV7kyqgNPOqUQw8jt4G9V5C3I3PebPYbZBhtw0tP96A9loksk4BY/8ImhEsVnYiU9sf50PJqCCSgfyNogstq87brC5wOrfsMTT1i2sVUBCFXnVn2swSNxxB7bPNB4hwodFCc4Q3oEaV+peGx27PRPc8ac46QzBqpZYCWx3yRviw/zXOdVcmNM6T6+wmX8q2WOVPuQeaORqVFRcmvcOjeK586xqrNI33l3sTC+KAVanaPIFtpywUVKtp2dPL7OJW80/PfcnYb6ZTZhfV2qj0RPu8BPxv8N1ORZghzuVMMZRxjeHaQuYdJMLS17FeT4K+UQFLVxPucl8yDjq9TpXUbzpzI3iVNXP4hM5EThktasi57ZweGia1t3VJv995oiYfKgi60R8DQdeK9zmFrj9cFo4wKntcRrWhJFdjvRpqFjiP9I+/tSG8kxx8GH77tKEeKVKm/rcfIQ/AVSbt5nWOSJS9Fir3iO25osYgjG3zbqLx7lfy1lJMw0uVyKACdHuKxntC8UpNLePOhCdM0J5yuSHRTyZd6yCAanz0Ra5Xm1sokjEEi1uBxN1qdpoooR9VppjLqH4nol0ck4IBchoFb/9feXsKOjCiup3eA201vA9LVOM9ZhGnXUTCSxea5+RCo1MZIQCJkleRCSijbkekcVR80NS+3M="
    - secure: "g3anNEvDkQNyr1nTRls9PgBEVDBOJ2aJoSxXUNaTvl7nDoCpkzAU62UNfzrZ6Nis2rrh07K/gzboUHKaA4+JKc0z9hzzBnTF1VJSJ+ICG4iSXoMbQk/fz4m2xV0PT/xCWptDGpzWmdw52QGCc8gRCkWZdV5hpuTCPbj4EArsJQydGr205QWxXOOLY0s/4lV/xKU7Pn3+22dd3QAV6Hy1rOdKi0ZVspRMhoYtxG87zDT1hT4l9u1CG9Es6cp0ai+QOg0AZLFNijjKF0aDXkREaSOm4NCIwwOeEavF8Cc3zIlqnWuNJhB7e8oJgf9TDDUyX+wmKFjYJxKf1fOHJimG56mcbmv6dJOLOMajgf0gwrCwy2+/+z9qXb/wxX8Uz9QWmUIfHAL2CDeZkYA23eWD67ZzvHeOXNhHGY1DWcXBpi6F0H2pLqPDN+xyQ+VxvjZqY2ElWOz8HldkuWeZM3bp8fNrlhy42SqitZlOBhuOyQ3fIy8ej3Y2HB3Sa+75omWrt8D4YD9reNzF8aMQ0Yx/foFszfDghKU9cjapZcZgTFGuExozAMHEyb2ItwVrKeZ0mR8o6Pr8qb5gh1IoBzpLB9ANZDT2wF3Fj2wGCxF7Zp9wPhFoM7h/HDeh6k+UpqBZdlODRr0ZKuyAyY5odkIfvWkE6JwHEtPLleZ8QiX1RIk="

